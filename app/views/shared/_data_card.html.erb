<div class="bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-lg transition-all duration-300">
  <h3 class="text-sm font-medium text-gray-500 mb-1 flex items-center justify-between cursor-pointer" onclick="my_modal_<%= index %>.showModal()">
    <div class="flex items-center">
      <i class="fas fa-<%= card[:icon] %> <%= card[:icon_color] %> mr-2"></i>
      <%= card[:title] %>
    </div>
    <%= image_tag "icons/Diagonal_Arrow.svg", class: "w-3 h-3" %>
  </h3>
  <p class="text-2xl font-bold text-[#19272f] mt-4">
    <%= card[:prefix] %><%= card[:value] %>
  </p>
  <% if card[:subtitle] %>
    <p class="text-sm text-gray-500">
      <%= card[:subtitle] %>
    </p>
  <% end %>
</div>

<dialog id="my_modal_<%= index %>" class="modal rounded-xl border-0">
  <div class="modal-box">
    <h3>
      <i class="fas fa-<%= card[:icon] %> <%= card[:icon_color] %> mr-2"></i>
      <%= card[:title] %> Details
    </h3>

    <div class="grid grid-cols-2 gap-4">
      <div class="bg-gray-50 p-4 rounded-lg">
        <h4 class="text-sm font-medium text-gray-500">Current Value</h4>
        <p class="text-xl font-bold text-[#19272f]">
          <%= card[:prefix] %><%= card[:value] %>
        </p>
      </div>

      <% case card[:title] %>
      <% when 'Total Spent' %>
        <div class="bg-gray-50 p-4 rounded-lg">
          <h4 class="text-sm font-medium text-gray-500">Average Transaction</h4>
          <p class="text-xl font-bold text-[#19272f]">
            $<%= number_with_precision(@average_transaction, precision: 2) %>
          </p>
        </div>
      <% when 'Net Worth' %>
        <div class="bg-gray-50 p-4 rounded-lg">
          <h4 class="text-sm font-medium text-gray-500">Total Assets</h4>
          <p class="text-xl font-bold text-[#19272f]">
            $<%= number_with_precision(@assets, precision: 2) %>
          </p>
        </div>
      <% when 'Income' %>
        <div class="bg-gray-50 p-4 rounded-lg">
          <h4 class="text-sm font-medium text-gray-500">Salary Portion</h4>
          <p class="text-xl font-bold text-[#19272f]">
            $<%= number_with_precision(@salary, precision: 2) %>
          </p>
        </div>
      <% end %>
    </div>

    <div class="modal-action">
      <form method="dialog">
        <button class="btn">Close</button>
      </form>
    </div>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </div>
</dialog>
